{% extends "base.html" %}
{% load staticfiles %}

{% block content %}

<style>
	.scratch_table {
		font-size: 1.3em;
	}
</style>


<h3 style="width:80%; margin:0 auto; margin-top:5em; padding:1em; padding-left:3.5em; padding-right:2em; border-radius:10px; padding-top:3em"><a href="{{request.META.HTTP_REFERER}}">< 뒤로가기</a></h3>


<div class="media" style="width:80%; margin:0 auto; margin-top:2em; background-color:#EEEEEE; padding:1em; padding-left:3.5em; padding-right:2em; border-radius:10px; padding-top:3em">
  <div class="media-left media">
    <a href="#">
    	{% with 'assets/characters/profile/'|add:persona_name_underscore|add:'.png' as image_static %}
      <img class="media-object" src="{% static image_static %}" style="width:5em">
      {% endwith %}
    </a>
  </div>
  <div class="media-body" style='padding-left:3em; padding-top:0.5em; padding-bottom:1em'>
  	<div class="row">
    	<h1 class="col-md-8" style="margin-bottom:0.8em; font-size:2em; ">
    		{{persona_name}}
    	</h1>
    </div>
    <div style="">

		  <h3 style="font-size:1.65em"><strong>기본 정보</strong></h3>
		  <table class="scratch_table" style="width:100%">
			  <tr>
			    <td style="font-weight:800">성</td>
			    <td>{{scratch.last_name}}</td>
			  </tr>
			  <tr>
			    <td style="width:20%; font-weight:800">이름</td>
			    <td>{{scratch.first_name}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">나이</td>
			    <td>{{scratch.age}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">현재 시간</td>
			    <td>{{scratch.curr_time}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">현재 타일 위치</td>
			    <td>{{scratch.curr_tile}}</td>
			  </tr>
			</table>
			<br>


			<hr style="border:solid; border-width:1px">
			<h3 style="font-size:1.65em"><strong>속성값</strong></h3>
		  <table class="scratch_table" style="width:100%">
			  <tr>
			    <td style="width:30%; font-weight:800">시야 (주변 사물을 어느정도 인지하는지와 관련)</td>
			    <td>{{scratch.vision_r}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">주의력 (주의집중을 하는것과 관련)</td>
			    <td>{{scratch.att_bandwidth}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">기억력 (얼마나 오랫동안 단기기억을 지니고 있는지와 관련)</td>
			    <td>{{scratch.retention}}</td>
			  </tr>
			</table>
			<br>


			<hr style="border:solid; border-width:1px">
			<h3 style="font-size:1.65em"><strong>성격 설정</strong></h3>
			<table class="scratch_table" style="width:100%">
			  <tr>
			    <td style="font-weight:800">타고난 성향</td>
			    <td>{{scratch.innate}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">학습된 경향</td>
			    <td>{{scratch.learned}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">현 상태</td>
			    <td>{{scratch.currently}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">라이프 스타일</td>
			    <td>{{scratch.lifestyle}}</td>
			  </tr>
			</table>
			<br>


			<hr style="border:solid; border-width:1px">
			<h3 style="font-size:1.65em; "><strong>현재 액션 스테이트</strong></h3>
			<table class="scratch_table" style="width:100%">
			  <tr>
			    <td style="width:20%; font-weight:800">매일 필수적으로 해야 하는 일</td>
			    <td>
			    	<ol>
			    	{% for i in scratch.daily_req %}
			    	  <li>{{ i }}</li>
			    	{% endfor %}
			    	</ol>
			    </td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">오늘 일정</td>
			    <td>
			    	<ol>
			    	{% for i in scratch.f_daily_schedule %}
			    	  <li>{{ i }}</li>
			    	{% endfor %}
			    	</ol>
			    </td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">현위치</td>
			    <td>{{scratch.act_address}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">현재 액션을 시작한 시간</td>
			    <td>{{scratch.act_start_time}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">지속 시간</td>
			    <td>{{scratch.act_duration}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">현재 하고 있는 일</td>
			    <td>{{scratch.act_description}}</td>
			  </tr>
			  <tr>
			    <td style="font-weight:800">이모지</td>
			    <td>{{scratch.act_pronunciatio}}</td>
			  </tr>
			</table>
			<br>

			<hr style="border:solid; border-width:1px">
			<h3 style="font-size:1.65em"><strong>기억</strong></h3>
			<h4 style="font-size:1.45em"><strong>발생한 이벤트</strong></h4>
			<div class="" style="width:100%">
			  {% for node_details in a_mem_event %}
				  <p>
				  	<!-- <strong>Node ID: node_{{ node_details.node_count }}</strong><br> -->
				  	<!-- Node Count: {{ node_details.node_count }} ||  -->
				  	<!-- Type Count: {{ node_details.type_count }}  -->
				  	<!-- <br> -->
				  	[node_{{ node_details.node_count }}] {{ node_details.created }}: <strong>{{ node_details.description }}</strong>
				  	<!-- || -->
				  	<!-- Expiration: {{ node_details.expiration }} -->
				  	<!-- <br> -->
				  	<!-- S, P, O 
				  	 node_details.subject , 
				  	 node_details.predicate , 
				  	 node_details.object 
				  	<br> -->
				  	<!-- Description: {{ node_details.description }} -->
				  	<!-- <br> -->
				  	<!-- Keywords: {{ node_details.keywords }} -->
				  	<!-- <br> -->
				  	<!-- Filling: {{ node_details.filling }} -->
				  </p> 
				   
			  {% endfor %}
			</div>
			<br>

			
			<h4 style="font-size:1.45em"><strong>대화 정보</strong></h4>
			<div class="" style="width:100%">
			  {% for node_details in a_mem_chat %}
				  <p>
				  	대화 생성 시간: {{ node_details.created }} 
				  	<br>
				  	대화 요약: {{ node_details.description }}
				  	<br>
				  	대화 내용: <br>
				  	{% for name, utt in node_details.filling %}
				  	<span style="font-style: italic;">{{ name }}</span>: {{ utt }}<br>
				  	{% endfor %}
				  </p> 
			  {% endfor %}
			</div>
			<br>

			<h4 style="font-size:1.45em"><strong>생각들</strong></h4>
			<div class="" style="width:100%">
			  {% for node_details in a_mem_thought %}
				  <p>
				  	[node_{{ node_details.node_count }}] {{ node_details.created }}: <strong>{{ node_details.description }}</strong> 

				  	<br>(Depth: {{ node_details.depth }}; Evidence: {{ node_details.filling }})
				  	
				  </p> 
			  {% endfor %}
			</div>
			<br>



		</div>
  </div>
</div>
{% endblock content %}
